## Основные команды

- **docker run** - инициализация нового контейнера, преобразования образа в контейнер 
  - `docker run -h CONTAINER -i -t debian /bin/bash`	
	  - **-h** -  имя хоста
	  - **-i** и **-t** сообщают Docker, что необходимо создать сеанс интерактивной работы на подключаемом терминальном устройстве tty
	  - **/bin/bash** - инициализирует командную оболочку bash
  - `docker run test/cowsay-dockerfile`	  
  - `docker run --name myredis -d redis`
  	- **-d** сообщает Docker, что контейнер нужно запустить в фоновом режиме
  - `docker run --rm test/cowsay-dockerfile`	
  	- **--rm** - позволяет удалить остановленный контейнер после работы
  
- **docker ps** 
	- `docker ps` - позволяет нам узнать некоторые подробности обо всех контейнерах, работающих в текущий момент
	- `docker ps -a` - выводится список всех контейнеров, включая остановленные

- **docker inspect** - Больше информации о конкретном контейнере с указанием имени или идентификатора нужного контейнера `docker inspect stupefied_turing`
	- `docker inspect stupefied_turing | grep IPAddress` - для выделения той информации, которая вас интересует
	- `docker inspect --format {{.NetworkSettings.IPAddress}} stupefied_turing` - для выделения той информации, которая вас интересует
	
- **docker diff** -  список файлов, измененных в работающем контейнере     
	-  `docker diff stupefied_turing` - задается имя контейнера или идентификатора  
	
- **docker logs** - будет выведен список всех событий, произошедших внутри заданного контейнера	    
	- `docker logs stupefied_turing` - задается имя контейнера или идентификатора        
	
- **docker rm**	- окончательно избавиться от контейнера
	- `docker rm stupefied_turing` - задается имя контейнера или идентификатора
	- `docker rm -v $(docker ps -aq -f status=exited)` - удалить все остановленные контейнеры
	- `docker rm $(docker ps -aq)` - удалить все контейнеры
	
- **docker commit**	- для превращения контейнера в образ. Необходимо передать в команду имя контейнера
                       («cowsay»), имя для создаваемого образа («cowsayimage»), а также имя
                        репозитория, в котором образ будет сохранен («test»)
	- `docker commit cowsay test/cowsayimage`                        
	
- **docker build** - создать образ	
	- `docker build -t test/cowsay-dockerfile .`
	
-  **docker exec**
 	`docker exec -it $containerid /bin/bash` - чтобы зайти в файловую систему контейнера
 	
- **docker history** - Весь набор уровней, формирующих образ,
	- `docker history test/cowsay-dockerfile`
	
- **docker port**- 	Чтобы определить номера портов, назначенные механизмом Docker
	- `docker port objective_mahavira` - 80/tcp -> 0.0.0.0:8000

	
## Dockerfile	
	
```text
 Dockerfile – это обычный текстовый файл, содержащий набор операций, которые
 могут быть использованы для создания Docker-образа	
```

- **FROM** - определяет базовый образ ОС (это, как и ранее, debian, но сейчас мы уточнили, что необходимо воспользоваться конкретной версией «wheezy»). 
             Основной образ определяется в форме IMAGE:TAG (например, debian:wheezy)
  			 Является строго обязательной для всех файлов Dockerfile как самая первая незакомментированная инструкция. 
  			 Эта инструкция обязательно должна быть самой первой в Dockerfile
	- `FROM debian:wheezy`  	
	
- **RUN** - определяют команды, выполняемые в командной оболочке внутри данного образа	
	- `RUN apt-get update && apt-get install -y cowsay fortune`
	
- **ENTRYPOINT** - инструкция позволяет определить выполняемый файл, который будет вызываться для обработки любых аргументов, переданных в команду `docker run`.
	- `ENTRYPOINT ["/usr/games/cowsay"]`
	- `ENTRYPOINT ["/entrypoint.sh"]`

- **COPY** - копирует файл из файловой системы хоста в файловую систему образа, где первый аргумент определяет файл хоста, 
			 а второй – целевой путь, таким образом, эта инструкция очень похожа на обычную команду `cp`.
			 
- **VOLUME** - Тома (volumes) – это файлы или каталоги, которые смонтированы непосредственно на хосте 		 
	
- **ADD** - Копирует файлы из контекста создания или из удаленных URL-ссылок в создаваемый образ.

- **CMD** - Запускает заданную инструкцию во время инициализации контейнера

- **ENV** - Определяет переменные среды внутри образа
	- `ENV MY_VERSION 1.3`
	
- **EXPOSE** -	Сообщает механизму Docker о том, что в данном контейнере будет существовать процесс, прослушивающий заданный порт или несколько портов

- **MAINTAINER** - Определяет метаданные об авторе «Author» для создаваемого образа в заданной строке

- **ONBUILD** - Определяет инструкцию, которая должна выполняться позже, когда данный образ будет использоваться как основной уровень для другого образа

- **USER** - Задает пользователя (по имени или по идентификатору UID) для использования во всех последующих инструкциях RUN, CMD, ENTRYPOINT.

- **WORKDIR** - Определяет рабочий каталог для всех последующих инструкций RUN, CMD, ENTRYPOINT, ADD, COPY. 

	